from openai import OpenAI

client = OpenAI(
    api_key="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",
)

stream = client.chat.completions.create(
    model="gpt-3.5-turbo-0301",
    messages=[
        {"role": "user", "content": 'Extract the name of the product and the price <div class="a-section a-spacing-small puis-padding-left-micro puis-padding-right-micro"><div class="a-section a-spacing-none a-text-center"><span data-component-type="s-color-swatch" class="rush-component" data-version-id="v3t2vism9ma9te2v0r14oy30p6q" data-render-id="rf9wkhdn6geu62j9ogp92y4uco" data-component-id="19"><div class="a-section s-color-swatch-container s-quick-view-text-align-start"></div></span></div><div data-cy="title-recipe" class="a-section a-spacing-none a-spacing-top-small s-title-instructions-style"><span class="a-declarative" data-version-id="v3t2vism9ma9te2v0r14oy30p6q" data-render-id="rf9wkhdn6geu62j9ogp92y4uco" data-action="a-popover" data-csa-c-type="widget" data-csa-c-func-deps="aui-da-a-popover" data-a-popover="{&quot;name&quot;:&quot;sp-info-popover-B0BS6QZ9ZM&quot;,&quot;position&quot;:&quot;triggerVertical&quot;,&quot;closeButton&quot;:&quot;true&quot;,&quot;dataStrategy&quot;:&quot;preload&quot;}" data-csa-c-id="ezl6zf-pj0n88-7q70nw-ktbw13"><a href="javascript:void(0)" role="button" style="text-decoration: none;" aria-label="Visualizzare le informazioni sponsorizzate o lasciare un feedback sull\'annuncio" class="puis-label-popover puis-sponsored-label-text"><span class="puis-label-popover-default"><span class="a-color-secondary">Sponsorizzato</span></span><span class="puis-label-popover-hover"><span class="a-color-base">Sponsorizzato</span></span> <span class="aok-inline-block puis-sponsored-label-info-icon"></span></a></span><div class="a-popover-preload" id="a-popover-sp-info-popover-B0BS6QZ9ZM"><div class="puis puis-v3t2vism9ma9te2v0r14oy30p6q"><span>Questo annuncio viene visualizzato in base alla pertinenza del prodotto con la query di ricerca.</span><div class="a-row"><span class="a-declarative" data-version-id="v3t2vism9ma9te2v0r14oy30p6q" data-render-id="rf9wkhdn6geu62j9ogp92y4uco" data-action="s-safe-ajax-modal-trigger" data-csa-c-type="widget" data-csa-c-func-deps="aui-da-s-safe-ajax-modal-trigger" data-s-safe-ajax-modal-trigger="{&quot;header&quot;:&quot;Informazioni e opzioni sugli annunci&quot;,&quot;dataStrategy&quot;:&quot;ajax&quot;,&quot;ajaxUrl&quot;:&quot;/af/feedback-form?pl=%7B%22adPlacementMetaData%22%3A%7B%22searchTerms%22%3A%22am9yZGFu%22%2C%22pageType%22%3A%22Search%22%2C%22feedbackType%22%3A%22sponsoredProductsLoom%22%2C%22slotName%22%3A%22TOP%22%7D%2C%22adCreativeMetaData%22%3A%7B%22adProgramId%22%3A1024%2C%22adCreativeDetails%22%3A%5B%7B%22asin%22%3A%22B0BS6QZ9ZM%22%2C%22title%22%3A%22Air+Jordan+1+Mid+Palomino+Dq8423-215%2C+marrone%2C+38.5+EU%22%2C%22priceInfo%22%3A%7B%22amount%22%3A199.0%2C%22currencyCode%22%3A%22EUR%22%7D%2C%22sku%22%3A%22AIR+JORDAN+PALOMINO+38.5%22%2C%22adId%22%3A%22A04315493VDVKNMEAOB8I%22%2C%22campaignId%22%3A%22A0799988A68NXPXZ2G01%22%2C%22advertiserIdNS%22%3A%22axiom.APJ6JRA9NG5V4.A36124TBAWD5SI%22%2C%22selectionSignals%22%3A%7B%22version%22%3A1%2C%22context%22%3Atrue%2C%22location%22%3Afalse%2C%22pastActivity%22%3A%22STORE_ONLY%22%7D%7D%5D%7D%7D&quot;}" data-csa-c-id="omxe5t-etxr2l-t2y3uc-lpoeuh"><a class="a-link-normal s-underline-text s-underline-link-text s-link-style" href="#"><span>Maggiori informazioni su questo annuncio</span> </a> </span></div></div></div><div class="a-row a-size-base a-color-secondary"><h2 class="a-size-mini s-line-clamp-1"><span class="a-size-base-plus a-color-base">Nike</span></h2></div><h2 class="a-size-mini a-spacing-none a-color-base s-line-clamp-2"><a class="a-link-normal s-underline-text s-underline-link-text s-link-style a-text-normal" href="/sspa/click?ie=UTF8&amp;spc=MTozNjY2ODUwODcxMTU3MDEyOjE3MDUxMzY1Mzk6c3BfYXRmOjMwMDEwMzYxNTY2NjEzMjo6MDo6&amp;url=%2FJordan-Palomino-Dq8423-215-marrone-38-5%2Fdp%2FB0BS6QZ9ZM%2Fref%3Dsr_1_1_sspa%3F__mk_it_IT%3D%25C3%2585M%25C3%2585%25C5%25BD%25C3%2595%25C3%2591%26crid%3D1D154TETAGP4X%26dib%3DeyJ2IjoiMSJ9._Pcojl8rVc2ueTkE37WkJdyLy07-2Fcs8XOziFhw6FjGiIHaeL8HbJlqki5ZPSE3aAV8iCnfDQI7VgoOgHCs2LE9xReFCRVgNtmh_jJn-X_YqntG686wCImbVrW-yB5tVmE4pN2A55PJNtsuKeoegQ.vlkoj3GULDCgU9XjfzaFWJMmxdW4Mie1gaacjs6Qgt0%26dib_tag%3Dse%26keywords%3Djordan%26qid%3D1705136539%26sprefix%3Djordan%252Caps%252C89%26sr%3D8-1-spons%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1"><span class="a-size-base-plus a-color-base a-text-normal">Air Jordan 1 Mid Palomino Dq8423-215</span> </a> </h2></div><div data-cy="price-recipe" class="a-section a-spacing-none a-spacing-top-small s-price-instructions-style"><div class="a-row a-size-base a-color-base"><div class="a-row"><a class="a-link-normal s-no-hover s-underline-text s-underline-link-text s-link-style a-text-normal" href="/sspa/click?ie=UTF8&amp;spc=MTozNjY2ODUwODcxMTU3MDEyOjE3MDUxMzY1Mzk6c3BfYXRmOjMwMDEwMzYxNTY2NjEzMjo6MDo6&amp;url=%2FJordan-Palomino-Dq8423-215-marrone-38-5%2Fdp%2FB0BS6QZ9ZM%2Fref%3Dsr_1_1_sspa%3F__mk_it_IT%3D%25C3%2585M%25C3%2585%25C5%25BD%25C3%2595%25C3%2591%26crid%3D1D154TETAGP4X%26dib%3DeyJ2IjoiMSJ9._Pcojl8rVc2ueTkE37WkJdyLy07-2Fcs8XOziFhw6FjGiIHaeL8HbJlqki5ZPSE3aAV8iCnfDQI7VgoOgHCs2LE9xReFCRVgNtmh_jJn-X_YqntG686wCImbVrW-yB5tVmE4pN2A55PJNtsuKeoegQ.vlkoj3GULDCgU9XjfzaFWJMmxdW4Mie1gaacjs6Qgt0%26dib_tag%3Dse%26keywords%3Djordan%26qid%3D1705136539%26sprefix%3Djordan%252Caps%252C89%26sr%3D8-1-spons%26sp_csd%3Dd2lkZ2V0TmFtZT1zcF9hdGY%26psc%3D1"><span class="a-price" data-a-size="xl" data-a-color="base"><span class="a-offscreen">199,00&nbsp;€</span><span aria-hidden="true"><span class="a-price-whole">199<span class="a-price-decimal">,</span></span><span class="a-price-fraction">00</span><span class="a-price-symbol">€</span></span></span></a></div><div class="a-row"></div></div></div><div data-cy="delivery-recipe" class="a-section a-spacing-none a-spacing-top-micro"><div class="a-row a-size-base a-color-secondary s-align-children-center"><div class="a-row s-align-children-center"><span class="aok-inline-block s-image-logo-view"><span class="aok-relative s-icon-text-medium s-prime"><i class="a-icon a-icon-prime a-icon-medium" role="img" aria-label="Amazon Prime"></i></span><span></span></span> </div><div class="a-row"><span aria-label="Consegna GRATUITA 17 - 19 gen "><span class="a-color-base">Consegna GRATUITA </span><span class="a-color-base a-text-bold">17 - 19 gen </span></span></div></div><div class="a-row a-size-base a-color-secondary"><span aria-label="Disponibilità: solo 1"><span class="a-size-base a-color-price">Disponibilità: solo 1</span></span></div></div></div>'}
    ],
    stream=True,
)

for chunk in stream:
    if chunk.choices[0].delta.content is not None:
        print(chunk.choices[0].delta.content, end="")

